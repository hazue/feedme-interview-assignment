<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico">
    <link type="text/css" rel="stylesheet" href="materialize/css/materialize.min.css"  media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="index.css"  media="screen,projection"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal</title>

    <style>
        /* Hidden on default */
        #manager_view{
            display: none;
        }
    </style>
</head>

<body>
    <div class="container">
        <div id="customer_view">
            <div class="row">
                <button type="button" class="btn-large blue darken-1 float-right" onclick="Order.addVIPOrder()">New VIP Order</button>
                <button type="button" class="btn-large waves-effect waves-light float-right" style="margin-right:5px;" onclick="Order.addNormalOrder()">New Normal Order</button>
            </div>
            <div class="row order-list">
                <div class="col s6 left">
                    <div class="row">
                        <div class="col s12 bottom-bordered">PENDING</div>
                    </div>
                    <div class="row">
                        <div id="list_of_orders_in_preparation">
                        </div>
                    </div>
                </div>
                <div class="col s6 right">
                    <div class="row">
                        <div class="col s12 bottom-bordered">COMPLETED</div>
                    </div>
                    <div class="row">
                        <div id="list_of_completed_orders">
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- #customer_view -->

        <div id="manager_view">
            <div class="row">
                <button type="button" class="btn-large pink lighten-3  float-right" onclick="Bot.removeBot()">- Bot</button>
                <button type="button" class="btn-large blue darken-1 float-right" style="margin-right:5px;" onclick="Bot.addBot()">+ Bot</button>
            </div>
            <div class="row bot-list-header">
                <div class="col s6 left">Bot ID</div>
                <div class="col s6 right">Status</div>
            </div>
            <div class="row">
                <div id="bot_list" class="bot-list-items">
                    <div class="col s12">N/A</div>
                </div>
            </div>
        </div> <!-- #manager_view -->

        <div class="row">
            <button type="button" class="btn-small btn-flat" style="position:fixed; bottom:10px; right:5px; font-size:10px;" onclick="toggleView()">Change View</button>
        </div>
    </div> <!-- .container -->

    <!--JavaScript at end of body for optimized loading-->
    <script type="text/javascript" src="materialize/js/materialize.min.js"></script>
    <script src="order.js"></script>
    <script src="bot.js"></script>
    <script>
        const TIME_TICKING_IN_MS = 250;

        function loopForever(){
            setTimeout(()=>{
                Bot.makeAllBotsWork();
                updateUI();
                loopForever();
            }, TIME_TICKING_IN_MS);    //run every 0.1 second
        }
    </script>
    <script>
        const cooking_bots = [];
        let bot_counter = 0;
        
        const orders_in_preparation = [];
        const orders_completed = [];
        let order_counter = 0;

    </script>
    <script src="ui.js"></script>
    <script>
        loopForever();
    </script>
</body>

</html>
